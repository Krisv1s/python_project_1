В соответствии с техническим заданием, необходимо было разработать платформу для управления различными  мероприятиями. предусмотреть возможность заведения нового мероприятия, регистрации на него людьми и вывода понятной статистики по мероприятиям и посетителям.

 

## **Цель проекта**

 

Данное программное средство (далее – ПС) предназначено для управления различными мероприятиями, упрощая процесс регистрации участников, организации событий и генерации отчетов.

# **Область применения**

Разработанное программное средство предоставляет возможности по созданию, изменению и удалению мероприятий. Создание мероприятий производится с указанием названия, даты и места проведения. Платформа предоставляет возможности  по регистрации участников с указанием их контактной информации. Также платформа предоставляет возможность вывода отчетности по мероприятиям и участникам.

 

# **Выбор инструментальных средств разработки**

Программное средство написано на языке программирования Python с использованием СУБД postgress. Данное программное средство представляет из себя платформу, взаимодействие с которой происходит по средствам веб\- интерфейса, потому при его написании использовались языки html и css. Данное программное средство написано при помощи следующих библиотек:

\- fastapi;

\- uvicorn;

\- SQLAlchemy;

\- psycopg2-binary;

\- python-dotenv;

\- pydantic;

\- alembic;

\- email-validator;

\- jinja2;

\- aiofiles;

\- python-multipart.

 

В основе работы СУБД PostgreSQL лежит серверный процесс базы данных, выполняемый на одном сервере. Доступ из приложений к данным базы PostgreSQL производится с помощью специального процесса базы данных. То есть клиентские программы не могут получать самостоятельный доступ к данным даже в том случае, если они функционируют на том же ПК, на котором осуществляется серверный процесс.

У каждого серверного процесса есть своя локальная память. В ней находится кэш каталога (часто используемая информация о базе данных), планы запросов, рабочее пространство для выполнения запросов и другое.

Экземпляр СУБД работает с несколькими базами данных. Эти базы данных называются кластером. Хранение данных на диске организовано с помощью табличных пространств. Табличное пространство указывает расположение данных (каталог на файловой системе).

Табличное пространство \- позволяет организовать логику размещения файлов объектов базы данных в файловой системе.

Основной процесс это postgres server process. Данный процесс является родителем для всех процессов, связанных с кластером. То есть он порождает все остальные процессы, создает разделяемую память (shared memory). Для каждого клиентского соединения порождается выделенный серверный процесс, который обрабатывает все запросы клиента пока сессия активна. Максимальное количество пользовательских сессий определяется параметром max\_connections (по умолчанию 100). Также, в СУБД существуют различные фоновые процессы, предназначенные для выполнения вспомогательных ролей.

Для сглаживания скорости работы памяти и дисков в PostgreSQL используется буферный кеш. Он состоит из массива буферов, которые содержат страницы (блоки) данных и дополнительную информацию об этих страницах. Размер страницы обычно составляет 8 КБ, хотя может устанавливаться при сборке.

В PostgreSQL используется два уровня представления данных: нижний уровень это страницы и физическое хранение данных в них, и верхний, где используются снимки данных. На нижнем уровне при изменении строки таблицы хранятся несколько версий этой строки, как старые, так и текущая актуальная.

Снимки данных используют информацию о начальном и конечном номере транзакции они отбирают версии строк, дающие согласованную картину на определенный момент времени.

PostgreSQL содержит инструменты анализа и оптимизации разбора текста запроса, по аналогии с тем, как это делается в языках программирования. Сначала анализатор (parser) выполняет первоначальный синтаксический и семантический разбор текста запроса. Результатом работы анализатора является дерево разбора. Далее запрос перерабатывается с помощью специальных механизмов обработки запросов (правил). В частности, на этом этапе происходит замена представлений на текст запроса, в результате чего дерево разбора существенно изменяется. Планировщик (planner) выбирает для запроса наиболее подходящий в части минимизация стоимости выполнения план.

 

# **Структура разработанной базы данных**


Таблица Events

 

| Имя поля | тип |
| :---- | :---- |
| iD (ключ) | integer |
| title | String |
| status | string |
| description | String |
| start\_at | DateTime |
| location | string |
| end\_at | DateTime |
| visitor\_limit() | integer |
| price | integer |
| created\_at  | TIMESTAMP |
| updated\_at | TIMESTAMP |

 

 

Структура таблицы посетители (Visitors)

 

| Имя поля | Тип |
| :---- | :---- |
| ID | Integer(ключ) |
| first\_name | string |
| Lastn\_ame | string |
| Phone\_number | string |
| E-mail\_adress | string  |
| created\_at  | TIMESTAMP |
| updated\_at | TIMESTAMP |

 

 

Структура таблицы регистрации на мероприятие (reg\_for\_the\_event)


 

| Имя поля | Тип |
| :---- | :---- |
| ID (регистрационный номер участника) | integer  |
| Event\_ID (здесь связь по ключу с таблицей Events) | integer |
| Visitor\_ID (здесь связь по ключу с таблицей Visitors) | Integer |
| status | string |
| Price | integer |
| billed\_amount | Integer |
| refund\_amount | Integer |
| billed\_at | TIMESTAMP |
| refunded\_at  | TIMESTAMP |
| created\_at  | TIMESTAMP |
| updated\_at | TIMESTAMP |


 
Описание функционала

\- Создание мероприятия: Данная функция позволяет заполнять информацию о новом мероприятии, включая название, дату, время и место. В дальнейшем данная информация отображается в таблице «Мероприятия».

\- Посетители: Данная функция позволяет вводить информацию о посетителях: (имя, фамилия, телефон, адрес электронной почты). базе данных, связывая участника с выбранным мероприятием.

\- Регистрация посетителей: Данная функция позволяет вводить информацию о посетителях и посещаемых ими мероприятиях. Сначала пользователь выбирает мероприятие из списка уже имеющихся в базе данных, затем выбирает одного из имеющихся посетителей. Таким образом происходит связывание мероприятия и посетителя.

\- Генерация отчетов: Пользователь может сгенерировать следующие отчеты о мероприятиях и посетителях:

\- отчет по количеству и списку зарегистрированных на мероприятие (мероприятия) посетителей;

\- финансовые отчеты по затратам на мероприятие (мероприятия) и прибыли;

\- отчет по мероприятиям, которые посетил конкретный пользователь.

Варианты использования разработанного программного средства



## Варианты использования приложения

### 1. Запуск приложения и вход в систему

**Актор:** Пользователь (организатор / участник)  
**Описание:** Пользователь открывает приложение и входит в свою учетную запись.

**Шаги:**
1. Пользователь запускает приложение через веб-браузер.
2. На главной странице отображаются ссылки:
   - **Мероприятия**
   - **Посетители**
   - **Регистрация**
3. Пользователь выбирает соответствующую ссылку для входа или регистрации.
4. Появляется форма для ввода учетных данных.
5. Пользователь вводит свою электронную почту и пароль и нажимает кнопку «Войти».
6. Если учетные данные корректны, пользователь перенаправляется на главную страницу с доступом к функционалу.

---

### 2. Создание нового мероприятия

**Актор:** Организатор  
**Описание:** Организатор создает новое мероприятие в системе.

**Шаги:**
1. Организатор нажимает на ссылку **Мероприятия**.
2. Открывается окно со списком мероприятий и кнопкой «Создать мероприятие».
3. Организатор нажимает «Создать мероприятие».
4. Открывается форма для ввода данных о мероприятии.
5. Организатор заполняет необходимые поля (название, дата, время, место, описание).
6. После ввода всех данных организатор нажимает кнопку «Сохранить».
7. Платформа подтверждает успешное создание мероприятия.

---

### 3. Регистрация на мероприятие

**Актор:** Участник  
**Описание:** Участник регистрируется на выбранное мероприятие.

**Шаги:**
1. Пользователь (участник) нажимает на ссылку **Мероприятия**.
2. Отображается список доступных мероприятий.
3. Участник находит интересующее его мероприятие и нажимает кнопку «Зарегистрироваться».
4. Открывается форма для ввода личных данных (имя, электронная почта, телефон).
5. Участник заполняет форму и нажимает кнопку «Подтвердить регистрацию».
6. Система отправляет уведомление на электронную почту участника о подтверждении регистрации.

---

### 4. Генерация отчета

**Актор:** Организатор  
**Описание:** Организатор генерирует отчет по мероприятию.

**Шаги:**
1. Организатор нажимает на ссылку **Посетители**.
2. Открывается окно с информацией о зарегистрированных участниках.
3. Организатор выбирает опцию «Генерировать отчет».
4. Система предлагает выбрать тип отчета (резюме по мероприятиям или финансовый отчет).
5. Организатор выбирает нужный отчет и нажимает «Сгенерировать».
6. Отчет доступен для скачивания в формате CSV или PDF.

---

### 5. Снятие регистрации с мероприятия

**Актор:** Участник  
**Описание:** Участник снимает свою регистрацию с мероприятия.

**Шаги:**
1. Участник нажимает на ссылку **Посетители**.
2. Отображается список зарегистрированных мероприятий.
3. Участник находит мероприятие, с которого хочет снять регистрацию, и нажимает кнопку «Отменить регистрацию».
4. Система запрашивает подтверждение отмены.
5. Участник подтверждает действие, и система снимает его регистрацию.

---

### 6. Выход из системы

**Актор:** Пользователь  
**Описание:** Пользователь выходит из своей учетной записи.

**Шаги:**
1. Пользователь нажимает кнопку «Выход» в интерфейсе приложения.
2. Система завершает сессию пользователя.
3. Пользователь перенаправляется на страницу входа.

---


## Тестирование приложения

### Общее описание

Тестирование приложения для управления мероприятиями проводилось с использованием библиотеки **PyTest**. Это обеспечило надежную проверку всех ключевых функциональных аспектов системы.

### Тестовые функции

В ходе тестирования были созданы следующие тестовые функции:

- **Создание тестовых данных**
  - **create_test_event(db)**: Функция для создания тестового мероприятия в базе данных, необходимого для дальнейшего тестирования.
  - **create_test_visitor(db)**: Функция для создания тестового посетителя, который будет регистрироваться на мероприятие.
  - **create_test_registration(db, event_id, visitor_id)**: Функция для создания записи о регистрации посетителя на конкретное мероприятие.

### Тесты на различные сценарии

- **Тестирование маршрутов**
  - **test_get_route(client)**: Проверка наличия доступных маршрутов приложения.

- **Тестирование мероприятий**
  - **test_get_events(client)**: Проверка получения списка мероприятий.
  - **test_read_event(client, db)**: Проверка корректного отображения информации о мероприятии.
  - **test_read_event_not_found(client)**: Обработка ситуации, когда запрашиваемое мероприятие не найдено.
  - **test_create_event(client, db)**: Проверка успешного создания нового мероприятия.
  - **test_create_event_invalid_visitor_limit(client)**: Проверка попытки создания мероприятия с недопустимым лимитом посетителей.
  - **test_update_event(client, db)**: Проверка успешного обновления данных мероприятия.
  - **test_update_event_not_found(client)**: Проверка обработки попытки обновления несуществующего мероприятия.
  - **test_delete_event(client, db)**: Проверка успешного удаления мероприятия.
  - **test_delete_event_not_found(client)**: Обработка удаления несуществующего мероприятия.

- **Тестирование посетителей**
  - **test_get_visitors(client)**: Проверка получения списка зарегистрированных посетителей.
  - **test_read_visitor(client, db)**: Проверка отображения информации о конкретном посетителе.
  - **test_read_visitor_not_found(client)**: Обработка ситуации, когда запрашиваемый посетитель не найден.
  - **test_create_visitor(client, db)**: Проверка создания нового посетителя.
  - **test_update_visitor(client, db)**: Проверка обновления информации о посетителе.

- **Тестирование регистраций**
  - **test_get_registrations(client)**: Проверка получения списка регистраций на мероприятия.
  - **test_create_registration(client, db)**: Проверка успешной регистрации посетителя на мероприятие.
  - **test_create_registration_invalid_event_id(client, db)**: Обработка ситуации с недействительным ID мероприятия.
  - **test_create_registration_invalid_visitor_id(client, db)**: Обработка ситуации с недействительным ID посетителя.
  - **test_create_registration_duplicate(client, db)**: Проверка попытки дублирования регистрации.
  - **test_update_registration(client, db)**: Проверка обновления данных о регистрации.
  - **test_update_registration_not_found(client)**: Обработка попытки обновления несуществующей регистрации.
  - **test_delete_registration(client, db)**: Проверка корректного удаления регистрации.
  - **test_delete_registration_not_found(client)**: Обработка удаления несуществующей регистрации.

### Результаты тестирования

Все тесты успешно завершились, что подтвердило функциональную целостность и правильность работы приложения. Параметры, проверенные во время тестирования, включали создание, обновление и удаление мероприятий, посетителей и регистраций, что позволило убедиться в корректности бизнес-логики.



## Дальнейшее развитие и будущее продукта

### Общее направление

Дальнейшее развитие платформы для управления мероприятиями направлено на улучшение функциональности, надежности и удобства использования. В процессе эксплуатации могут возникнуть возможности для улучшений и изменений, что позволит адаптироваться к потребностям пользователей и современным технологиям.

### Основные направления доработки

1. **Исправление ошибок во время эксплуатации**
   - Регулярный мониторинг и устранение выявленных ошибок и проблем, которые могут возникать у пользователей.
   - Обратная связь от пользователей поможет выявлять и приоритизировать наиболее критичные ошибки.

2. **Графическое отображение отчетов**
   - Разработка визуализаций для отчетов (графики, диаграммы), что упростит анализ больших объемов данных.
   - Внедрение инструментов для кастомизации отчетов, позволяющих пользователям выбирать необходимые параметры и виды визуализации.

3. **Доработка архитектуры приложения**
   - Проведение анализа текущей архитектуры с целью выявления узких мест и оптимизации производительности.
   - Использование микросервисного подхода для повышения масштабируемости и гибкости системы.

4. **Оптимизация структуры базы данных**
   - Анализ и реорганизация существующей схемы базы данных для повышения производительности и облегчения доступа к данным.
   - Внедрение индексации и оптимизация запросов для быстрого выполнения операций с большим объемом данных.

5. **Обновление пользовательского интерфейса**
   - Редизайн интерфейса для улучшения юзабилити и повышения удовлетворенности пользователей.
   - Проведение тестирования интерфейса на удобство использования и адаптируемость для разных устройств.

6. **Расширение функциональности**
   - Внедрение новых функций на основе запросов пользователей (например, интеграция с социальными сетями, возможность создания пользовательских профилей и т.д.).
   - Реализация дополнительных методов оплаты и регистрации участников.

7. **Интеграция с внешними сервисами**
   - Возможность интеграции с CRM-системами и другими приложениями для автоматизации бизнес-процессов.
   - Разработка API для внешних разработчиков, что позволит расширить функциональность приложения через сторонние интеграции.

8. **Обучение и поддержка пользователей**
   - Создание документации и обучающих материалов для пользователей.
   - Организация поддержки пользователей через форумы, чаты или службы поддержки.

### Заключение

Платформа имеет все необходимые предпосылки для дальнейшего роста и развития. Последующее внимание к исправлению ошибок, улучшению отчетности, архитектуры и функциональности приложения будет способствовать созданию конкурентоспособного продукта на рынке услуг по управлению мероприятиями.
